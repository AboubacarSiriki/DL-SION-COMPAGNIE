{% extends "base.html"%}
{% block centre%}
<div class="home-content">
  <div class="overview-boxes">
    <div class="box">
      <div class="right-side">
        <div class="box-topic">Produit</div>
        <div class="number">60</div>
        <div class="indicator">
          <i class="bx bx-up-arrow-alt"></i>
          <span class="text"></span>
        </div>
      </div>
      <i class="bx bx-cart-alt cart"></i>
    </div>
    <div class="box">
      <div class="right-side">
        <div class="box-topic">Catégorie</div>
        <div class="number">50</div>
        <div class="indicator">
          <i class="bx bx-up-arrow-alt"></i>
          <span class="text"></span>
        </div>
      </div>
      <i class="bx bxs-cart-add cart two"></i>
    </div>
    <div class="box">
      <div class="right-side">
        <div class="box-topic">Vedette</div>
        <div class="number">11</div>
        <div class="indicator">
          <i class="bx bx-down-arrow-alt down"></i>
          <span class="text"></span>
        </div>
      </div>
      <i class="bx bxs-cart-download cart four"></i>
    </div>
  </div>

  <div class="sales-boxes">
    <div class="recent-sales box">
      <div class="title">
        <p>Liste des produit</p>
                {% with messages = get_flashed_messages() %}
                  {% if messages %}
                    {% for message in messages %}
                      <p class="alert" style="color:green;">{{ message }}</p><br>
                    {% endfor %}
                  {% endif %}
                {% endwith %}
        <button id="open-popup">Ajouter un produit</button>
      </div>
      <div class="sales-details">
        <ul class="details">
          <li class="topic">Réf</li>
          {% for row in resultat %}
          <li><a href="#">{{ row[0] }}</a></li>
          {% endfor %}
        </ul>
        <ul class="details">
          <li class="topic">Nom</li>
          {% for row in resultat %}
          <li><a href="#">{{ row[1] }}</a></li>
          {% endfor %}
        </ul>
        <ul class="details">
          <li class="topic">Catégorie</li>
          {% for row in resultat %}
          <li><a href="#">{{ row[2] }}</a></li>
          {% endfor %}
        </ul>
        <ul class="details">
          <li class="topic">Prix</li>
          {% for row in resultat %}
          <li><a href="#">{{ row[3] }}</a></li>
          {% endfor %}
        </ul>
        <ul class="details">
          <li class="topic">Stock</li>
          {% for row in resultat %}
          <li><a href="#">{{ row[4] }}</a></li>
          {% endfor %}
        </ul>
        <ul class="details">
          <li class="topic">Stock min</li>
          {% for row in resultat %}
          <li><a href="#">{{ row[5] }}</a></li>
          {% endfor %}
        </ul>
        <ul class="details">
          <li class="topic">Designation</li>
          {% for row in resultat %}
          <li><a href="#">{{ row[6]}}</a></li>
          {% endfor %}
        </ul>
        <ul class="details">
          <li class="topic">Action</li>
          {% for row in resultat %}
          <div class="icon">
            <a href="{{ url_for('modifier_produit', id=row[0]) }}"><i class='bx bx-edit edit-icon' style='font-size: 30px; color: blue;'></i></a>
            <i class='bx bx-trash delete-icon' style='font-size: 30px; color: red;'></i>
          </div>
          {% endfor %}
        </ul>
      </div>
      <div class="button">
        <a href="#">Voir plus</a>
      </div>
    </div>
  </div>

</div>
<div id="popup" class="popup">
  <div class="popup-content">
    <span class="close" id="close-popup">&times;</span>
    <h2>Ajout d'un nouveau produit</h2><br>

    <form method="post" action="{{url_for('Produit')}}" enctype="multipart/form-data">

      <label for="nom">Nom du produit</label>
      <input type="text" id="nom" name="nom" required>

      <label for="categorie">Categorie</label>
      <input type="text" id="categorie" name="categorie" required>
      <!-- Ajoutez d'autres options selon vos besoins -->
      </select>
      <label for="prix">Prix d'achat</label>
      <input type="number" id="prix" name="prix" required>

      <label for="nombre">Ajouter un stock minimum</label>
      <input type="number" id="nombre" name="nombre" required>

      <label for="description">Description</label>
      <textarea id="description" name="description" required></textarea>

      <label for="image">Image</label>
      <input type="file" id="image" name="image" accept="image/*" required>

      <button type="submit">Ajouter</button>
    </form>
  </div>

</div>

<<<<<<< HEAD
<div class="popup0" id="confirmationPopup">
  <div class="confirmation-container">
      <h2>Êtes-vous sûr de vouloir supprimer ce Produit?</h2>
      <form id="deleteForm" method="POST">
          <button type="submit" class="btn-confirm">Confirmer</button>
          <button type="button" class="btn-cancel" onclick="closePopup()">Annuler</button>
      </form>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
      const deleteIcons = document.querySelectorAll('.delete-icon');
      const popup = document.getElementById('confirmationPopup');
      const deleteForm = document.getElementById('deleteForm');

      deleteIcons.forEach(icon => {
          icon.addEventListener('click', function() {
              const id = this.getAttribute('data-id');
              deleteForm.action = `/supprimer_produit/${id}`;
              popup.style.display = 'flex';
          });
      });
  });

  function closePopup() {
      document.getElementById('confirmationPopup').style.display = 'none';
  }
</script>

=======
>>>>>>> eb7f7df035391a99df8a95cf2751decf9ca4c357
{% endblock %}